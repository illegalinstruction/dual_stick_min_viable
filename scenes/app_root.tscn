[gd_scene load_steps=5 format=2]

[ext_resource path="res://scenes/gameplay.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/screenwipe.tscn" type="PackedScene" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Label

#------------------------------------------------------------------------------

func _ready():
	self.rect_position.x  = OS.get_window_safe_area().size.x - self.rect_size.x - 8;
	self.rect_position.y  = OS.get_window_safe_area().size.y - self.rect_size.y - 8;
	self.text = \"commit: \" + DATESTAMP.BUILD_HASH + \"\\nexported: \" + DATESTAMP.BUILD_DATE + \"\\nGodot version: \" + Engine.get_version_info()[\"string\"];
	return;
"

[sub_resource type="GDScript" id=2]
script/source = "extends Label


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	GLOBAL.poll_joysticks();
	self.text = \"num sticks connected: \" + str(GLOBAL.NUM_JOYS_DETECTED) + \"\\n\";
	self.text += \"joy 0: \\n  left:   \" + \"x:\" + str(GLOBAL.JOY_STATES[0][\"left_stick\"].x) + \" | y:\" + str(GLOBAL.JOY_STATES[0][\"left_stick\"].y) + \"\\n\";
	self.text += \"  right:   \" + \"x:\" + str(GLOBAL.JOY_STATES[0][\"right_stick\"].x) + \" | y:\" + str(GLOBAL.JOY_STATES[0][\"right_stick\"].y) + \"\\n\";
	
	if (GLOBAL.JOY_STATES[0][\"left_stick\"].length() < GLOBAL.ANALOGUE_DEAD_ZONE):
		self.modulate = Color.coral;
	else:
		self.modulate = Color.cyan;
	
	pass
"

[node name="app_root" type="Node2D"]

[node name="main_menu" type="Node2D" parent="."]
visible = false

[node name="options" type="Node2D" parent="."]
visible = false

[node name="credits" type="Node2D" parent="."]
visible = false

[node name="gameplay" parent="." instance=ExtResource( 1 )]

[node name="splash" type="Node2D" parent="."]
visible = false

[node name="screenwipe" parent="." instance=ExtResource( 2 )]

[node name="LBL_versioninfo" type="Label" parent="."]
modulate = Color( 0.545098, 1, 0, 1 )
margin_left = 1018.0
margin_top = 615.0
margin_right = 1274.0
margin_bottom = 711.0
grow_horizontal = 0
grow_vertical = 0
align = 2
valign = 2
script = SubResource( 1 )

[node name="Label" type="Label" parent="."]
margin_right = 40.0
margin_bottom = 14.0
script = SubResource( 2 )
